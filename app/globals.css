@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* Design System Variables (Blue theme) */
:root{
  --primary: #2563eb;            /* blue-600 */
  --primary-dark: #1e40af;       /* blue-800 */
  --secondary: #93c5fd;          /* blue-300 */
  --danger: #ef4444;
  --warning: #f59e0b;
  --gray-50: #f8fafc;
  --gray-100: #f1f5f9;
  --gray-200: #e2e8f0;
  --gray-300: #cbd5e1;
  --gray-600: #475569;
  --gray-700: #334155;
  --gray-800: #1f2937;
  --gray-900: #0f172a;

  /* Question Status Colors - tuned to blue family */
  --not-visited: #94a3b8;        /* soft slate */
  --not-answered: #ffffff;
  --answered: #3b82f6;           /* blue-500 */
  --marked: #f59e0b;
  --answered-marked: #2563eb;    /* blue-600 */

  --radius: 0.625rem;
  --radius-sm: 4px;
  --shadow: 0 1px 3px rgba(2,6,23,0.06), 0 1px 2px rgba(2,6,23,0.04);
  --shadow-md: 0 6px 18px rgba(2,6,23,0.06), 0 2px 6px rgba(2,6,23,0.04);
  --shadow-lg: 0 12px 30px rgba(2,6,23,0.08), 0 6px 12px rgba(2,6,23,0.06);

  /* semantic surfaces */
  --background: #ffffff;
  --foreground: #0f172a;
  --card: #ffffff;
  --card-foreground: #0f172a;
  --popover: #ffffff;
  --popover-foreground: #0f172a;

  --primary-foreground: #ffffff;
  --secondary-foreground: #0f172a;
  --muted: #f1f5f9;
  --muted-foreground: #64748b;
  --accent: #e0f2fe;
  --accent-foreground: #075985;
  --destructive: #ef4444;
  --border: #e6eefc;
  --input: #f8fafc;
  --ring: #bfdbfe;

  /* charts - blue / teal palette */
  --chart-1: #60a5fa;
  --chart-2: #38bdf8;
  --chart-3: #06b6d4;
  --chart-4: #7dd3fc;
  --chart-5: #60a5fa;

  /* sidebar / accent */
  --sidebar: #f8fafc;
  --sidebar-foreground: #0f172a;
  --sidebar-primary: #2563eb;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #93c5fd;
  --sidebar-accent-foreground: #0f172a;
  --sidebar-border: #e6eefc;
  --sidebar-ring: #bfdbfe;
}

/* base reset */
*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  line-height:1.6;
  color:var(--gray-900);
  background:var(--gray-50);
}

/* Navigation */
nav{
  background: white;
  box-shadow: var(--shadow);
  position: sticky;
  top: 0;
  z-index: 100;
}

.nav-container{
  max-width:1280px;
  margin:0 auto;
  padding:1rem 2rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.logo{
  font-size:24px;
  font-weight:700;
  color:var(--primary);
  cursor:pointer;
  text-decoration:none;
}

.nav-links{display:flex;gap:2rem;align-items:center;}
.nav-links a{
  text-decoration:none;color:var(--gray-700);font-weight:500;transition:color .2s;cursor:pointer;
}
.nav-links a:hover{color:var(--primary);}

/* Container */
.container{max-width:1280px;margin:0 auto;padding:2rem;}

/* Hero Section - blue gradient */
.hero{
  text-align:center;
  padding:4rem 2rem;
  background: linear-gradient(135deg, var(--primary) 0%, #60a5fa 100%);
  color: white;
  border-radius: var(--radius);
  margin-bottom:3rem;
}
.hero h1{font-size:48px;margin-bottom:1rem;font-weight:700;}
.hero p{font-size:20px;opacity:.95;}

/* Category Cards */
.category-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:2rem;margin-bottom:3rem;}
.category-card{
  background: white;border-radius:var(--radius);padding:2rem;text-align:center;box-shadow:var(--shadow-md);transition:transform .2s,box-shadow .2s;cursor:pointer;
}
.category-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);}
.category-icon{font-size:48px;margin-bottom:1rem;}
.category-card h2{font-size:24px;margin-bottom:.5rem;color:var(--gray-900);}
.category-card p{color:var(--gray-600);margin-bottom:1.5rem;}

/* Buttons */
.btn{display:inline-block;padding:.75rem 1.5rem;border-radius:var(--radius-sm);font-weight:600;text-decoration:none;border:none;cursor:pointer;transition:all .2s;font-size:14px;}
.btn-primary{background:var(--primary);color:var(--primary-foreground);}
.btn-primary:hover{background:var(--primary-dark);}
.btn-secondary{background:var(--secondary);color:var(--secondary-foreground);}
.btn-danger{background:var(--danger);color:white;}
.btn-outline{background:transparent;border:2px solid var(--primary);color:var(--primary);}
.btn:disabled{opacity:.5;cursor:not-allowed;}

/* Mock Cards */
.filter-buttons{display:flex;gap:1rem;margin-bottom:2rem;flex-wrap:wrap;}
.filter-btn{padding:.5rem 1rem;border-radius:var(--radius-sm);border:2px solid var(--gray-300);background:white;cursor:pointer;transition:all .2s;}
.filter-btn.active{background:var(--primary);color:white;border-color:var(--primary);}

.mock-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;}
.mock-card{background:white;border-radius:var(--radius);padding:1.5rem;box-shadow:var(--shadow);transition:transform .2s;}
.mock-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);}
.mock-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:1rem;}
.mock-title{font-size:20px;font-weight:600;color:var(--gray-900);}

.badge{padding:.25rem .75rem;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase;}
.badge-cat{background:#dbeafe;color:#1e40af;}
.badge-gate{background:#dcfce7;color:#166534;}
.badge-custom{background:#fce7f3;color:#9f1239;}

.mock-meta{display:flex;gap:1.5rem;margin:1rem 0;color:var(--gray-600);font-size:14px;}
.mock-meta span{display:flex;align-items:center;gap:.5rem;}

/* Instructions Page */
.instructions-page{max-width:1200px;margin:0 auto;}
.instructions-grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:2rem;}
.card{background:white;border-radius:var(--radius);padding:2rem;box-shadow:var(--shadow);}
.card h3{font-size:20px;margin-bottom:1rem;color:var(--gray-900);}
.instructions-text{white-space:pre-line;line-height:1.8;color:var(--gray-700);}

.details-table{width:100%;border-collapse:collapse;}
.details-table td{padding:.75rem 0;border-bottom:1px solid var(--gray-200);}
.details-table td:first-child{font-weight:600;color:var(--gray-700);}

.checkbox-container{display:flex;align-items:center;gap:.75rem;padding:1.5rem;background:var(--gray-50);border-radius:var(--radius);margin-bottom:1rem;}
.checkbox-container input[type="checkbox"]{width:20px;height:20px;cursor:pointer;}

/* Exam Interface */
.exam-container{display:grid;grid-template-columns:300px 1fr;gap:1.5rem;height:calc(100vh - 80px);padding:1rem;}
.exam-sidebar{background:white;border-radius:var(--radius);padding:1.5rem;box-shadow:var(--shadow);overflow-y:auto;}

.palette-legend{margin-bottom:1.5rem;font-size:12px;}
.legend-item{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;}
.legend-box{width:20px;height:20px;border-radius:4px;border:2px solid var(--gray-300);}

.question-palette{display:grid;grid-template-columns:repeat(5,1fr);gap:.5rem;}
.palette-btn{aspect-ratio:1;border:2px solid var(--gray-300);border-radius:var(--radius-sm);background:white;cursor:pointer;font-weight:600;transition:all .2s;}
.palette-btn:hover{transform:scale(1.05);}
.palette-btn.active{border-width:3px;border-color:var(--gray-900);}

.palette-btn.not-visited{background:var(--not-visited);color:white;}
.palette-btn.not-answered{background:var(--not-answered);}
.palette-btn.answered{background:var(--answered);color:white;}
.palette-btn.marked{background:var(--marked);color:white;}
.palette-btn.answered-marked{background:var(--answered-marked);color:white;}

.exam-main{display:flex;flex-direction:column;background:white;border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;}
.exam-header{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;background:var(--gray-900);color:white;}
.timer{font-size:24px;font-weight:700;font-family:'Courier New',monospace;}
.timer.warning{color:var(--warning);}
.timer.danger{color:var(--danger);}

.exam-content{flex:1;padding:2rem;overflow-y:auto;}
.question-text{font-size:18px;line-height:1.8;margin-bottom:2rem;color:var(--gray-900);}
.options-container{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem;}
.option{display:flex;align-items:center;gap:1rem;padding:1rem;border:2px solid var(--gray-300);border-radius:var(--radius-sm);cursor:pointer;transition:all .2s;}
.option:hover{background:var(--gray-50);border-color:var(--primary);}
.option input{width:20px;height:20px;cursor:pointer;}
.option.selected{background:#dbeafe;border-color:var(--primary);}

.input-answer{width:100%;padding:1rem;border:2px solid var(--gray-300);border-radius:var(--radius-sm);font-size:16px;}

.exam-controls{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-top:2px solid var(--gray-200);gap:1rem;flex-wrap:wrap;}
.control-left{display:flex;gap:1rem;align-items:center;}
.control-right{display:flex;gap:1rem;}

/* Modal */
.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:1000;}
.modal{background:white;border-radius:var(--radius);padding:2rem;max-width:500px;width:90%;box-shadow:var(--shadow-lg);}
.modal h3{font-size:24px;margin-bottom:1rem;}
.modal-content{margin:1.5rem 0;}
.modal-actions{display:flex;gap:1rem;justify-content:flex-end;}

/* Results Page */
.results-container{max-width:1200px;margin:0 auto;padding:2rem;}
.score-summary{background: linear-gradient(135deg, var(--primary) 0%, #60a5fa 100%);color:white;border-radius:var(--radius);padding:3rem;text-align:center;margin-bottom:2rem;}
.score-display{font-size:64px;font-weight:700;margin-bottom:1rem;}
.score-stats{display:flex;justify-content:center;gap:3rem;margin-top:2rem;}
.stat-item{text-align:center;}
.stat-value{font-size:32px;font-weight:700;color:var(--primary);}
.stat-label{opacity:.9;margin-top:.5rem;}

.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem;margin-bottom:2rem;}
.chart-card{background:white;padding:1.5rem;border-radius:var(--radius);box-shadow:var(--shadow);}
.chart-card h3{margin-bottom:1rem;font-size:18px;}
canvas{max-width:100%;}

.review-section{background:white;border-radius:var(--radius);padding:2rem;box-shadow:var(--shadow);}
.review-filters{display:flex;gap:1rem;margin-bottom:1.5rem;}
.question-review{border:2px solid var(--gray-200);border-radius:var(--radius);padding:1.5rem;margin-bottom:1rem;}
.question-review.correct{border-color:var(--secondary);background:#f0f9ff;}
.question-review.wrong{border-color:var(--danger);background:#fff1f2;}

.review-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;}
.marks-badge{font-weight:700;padding:.5rem 1rem;border-radius:var(--radius-sm);}
.marks-positive{background:#dcfce7;color:#166534;}
.marks-negative{background:#fee2e2;color:#991b1b;}
.marks-zero{background:var(--gray-200);color:var(--gray-700);}

.answer-box{padding:1rem;border-radius:var(--radius-sm);margin:.5rem 0;}
.user-answer{background:#fff7ed;border-left:4px solid var(--warning);}
.correct-answer{background:#e6f7ff;border-left:4px solid var(--secondary);}
.explanation{background:var(--gray-50);padding:1rem;border-radius:var(--radius-sm);margin-top:1rem;font-style:italic;}

/* Dashboard */
.dashboard-container{max-width:1200px;margin:0 auto;padding:2rem;}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem;}
.stat-card{background:white;padding:1.5rem;border-radius:var(--radius);box-shadow:var(--shadow);}
.stat-card h4{color:var(--gray-600);font-size:14px;margin-bottom:.5rem;}
.stat-card .value{font-size:36px;font-weight:700;color:var(--primary);}

.attempts-table{background:white;border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;}
table{width:100%;border-collapse:collapse;}
thead{background:var(--gray-900);color:white;}
th,td{padding:1rem;text-align:left;}
tbody tr{border-bottom:1px solid var(--gray-200);}
tbody tr:hover{background:var(--gray-50);}

.hidden{display:none;}

/* Responsive */
@media (max-width:768px){
  .hero h1{font-size:32px;}
  .hero p{font-size:16px;}
  .exam-container{grid-template-columns:1fr;}
  .exam-sidebar{order:2;max-height:400px;}
  .instructions-grid{grid-template-columns:1fr;}
  .score-stats{flex-direction:column;gap:1rem;}
  .nav-links{display:none;}
}

/* Theme helper for Tailwind @theme inline */
@theme inline{
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* Dark mode tweaks - keep blues but invert backgrounds for contrast */
.dark{
  --background: #0b1220;
  --foreground: #e6f0ff;
  --card: #071133;
  --card-foreground: #e6f0ff;
  --popover: #071133;
  --popover-foreground: #e6f0ff;
  --primary: #60a5fa;           /* lighter blue in dark */
  --primary-foreground: #072146;
  --secondary: #1e3a8a;
  --secondary-foreground: #e6f0ff;
  --muted: #081127;
  --muted-foreground: #9fb6dff0;
  --accent: #073b4c;
  --accent-foreground: #e6f0ff;
  --destructive: #fca5a5;
  --border: rgba(96,165,250,0.12);
  --input: rgba(255,255,255,0.03);
  --ring: #3b82f6;
  --chart-1: #93c5fd;
  --chart-2: #38bdf8;
  --chart-3: #06b6d4;
  --chart-4: #60a5fa;
  --chart-5: #7dd3fc;
  --sidebar: #071133;
  --sidebar-foreground: #e6f0ff;
  --sidebar-primary: #60a5fa;
  --sidebar-primary-foreground: #071133;
  --sidebar-accent: #1e40af;
  --sidebar-accent-foreground: #e6f0ff;
  --sidebar-border: rgba(96,165,250,0.08);
  --sidebar-ring: #60a5fa;
}

@layer base{
  *{@apply border-border outline-ring/50;}
  body{@apply bg-background text-foreground;}
}
